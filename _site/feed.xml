<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.6.2">Jekyll</generator><link href="/feed.xml" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" /><updated>2017-10-30T19:22:42+08:00</updated><id>/</id><title type="html">Choipun</title><subtitle>与你一起探索未知世界</subtitle><author><name>Choipun</name></author><entry><title type="html">Hello, BLOG</title><link href="/2017/10/hello-blog" rel="alternate" type="text/html" title="Hello, BLOG" /><published>2017-10-28T14:54:37+08:00</published><updated>2017-10-28T14:54:37+08:00</updated><id>/2017/10/hello-blog</id><content type="html" xml:base="/2017/10/hello-blog">&lt;p&gt;一直以来就有写笔记的习惯，记录日常接触到的新内容，或者踩到的坑。时间一长，笔记也就多了起来。&lt;/p&gt;

&lt;p&gt;要是分享出来，一不小心帮到别人，那也是很棒的。&lt;/p&gt;

&lt;p&gt;那就搭个博客吧。&lt;/p&gt;

&lt;h1 id=&quot;用什么搭建&quot;&gt;用什么搭建&lt;/h1&gt;

&lt;p&gt;其实之前试过用 &lt;a href=&quot;https://cn.wordpress.org/&quot;&gt;WordPress&lt;/a&gt;，主要问题是：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;需要购买服务器（或虚拟主机） + 域名&lt;/li&gt;
  &lt;li&gt;国内的服务器需要备案&lt;/li&gt;
  &lt;li&gt;用 markdown 来写内容需要安装插件来实现
    &lt;ul&gt;
      &lt;li&gt;当然直接复制 HTML 内容粘贴进去也是可以的，但是感觉这样有点傻&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;不想花钱，又不想用那些大众博客程序（太丑了好吗），自然而然关注到了 &lt;a href=&quot;https://pages.github.com/&quot;&gt;Github Pages&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;免费无限空间&lt;/li&gt;
  &lt;li&gt;个性域名支持&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;缺点是只能放置静态文件。&lt;/p&gt;

&lt;p&gt;有想过用 &lt;a href=&quot;https://vuejs.org/&quot;&gt;Vue&lt;/a&gt; 做个简单的 SPA，数据放在 &lt;a href=&quot;https://leancloud.cn/&quot;&gt;LeanCloud&lt;/a&gt; 上，不过这样又有些问题&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;对 SEO 不友好&lt;/li&gt;
  &lt;li&gt;需要处理各种数据交互&lt;/li&gt;
  &lt;li&gt;还是没有直接解决 markdown 的问题
    &lt;ul&gt;
      &lt;li&gt;可以利用第三方工具 &lt;a href=&quot;https://github.com/chjj/marked&quot;&gt;marked.js&lt;/a&gt; 对内容进行转化后通过 &lt;code class=&quot;highlighter-rouge&quot;&gt;v-html&lt;/code&gt; 输出&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;所以还是用 Github Pages 官方推荐的 &lt;a href=&quot;https://jekyllrb.com/&quot;&gt;Jekyll&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;熟悉的工作流：git push = blog post&lt;/li&gt;
  &lt;li&gt;markdwon 语法支持&lt;/li&gt;
  &lt;li&gt;不需要数据库&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;稍微花点时间了解一下 &lt;code class=&quot;highlighter-rouge&quot;&gt;.yml&lt;/code&gt; 的配置以及 &lt;a href=&quot;https://github.com/Shopify/liquid/wiki&quot;&gt;Liquid&lt;/a&gt; 模板语法，直接起飞！&lt;/p&gt;

&lt;p&gt;遇到的坑可以看这里：&lt;a href=&quot;/2017/10/install-jekyll&quot;&gt;使用Jekyll搭建博客的踩坑记录&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&quot;开启评论&quot;&gt;开启评论&lt;/h1&gt;

&lt;p&gt;使用的默认主题 &lt;a href=&quot;https://github.com/jekyll/minima&quot;&gt;Minima&lt;/a&gt; 自带了 &lt;a href=&quot;https://disqus.com/&quot;&gt;Disqus&lt;/a&gt;，所以只需要申请一个 Disqus 账号，补充一下相关配置即可。相比于 &lt;a href=&quot;https://github.com/duoshuo&quot;&gt;多说&lt;/a&gt; 我还是更喜欢 Disqus 界面的简洁大方。&lt;/p&gt;

&lt;h1 id=&quot;修改记录&quot;&gt;修改记录&lt;/h1&gt;

&lt;p&gt;底部模板，参考 &lt;a href=&quot;https://github.com/BlackrockDigital/startbootstrap-clean-blog-jekyll/&quot;&gt;Clean Blog Jekyll Theme&lt;/a&gt; 的底部样式，放大图标，仅保留主要描述。&lt;/p&gt;

&lt;p&gt;增加 &lt;a href=&quot;/time/&quot;&gt;Time&lt;/a&gt; 页面，记录博客的年龄。&lt;/p&gt;

&lt;p&gt;修改基础 &lt;code class=&quot;highlighter-rouge&quot;&gt;font-family&lt;/code&gt; 为更符合中文显示的系列字体。&lt;/p&gt;

&lt;p&gt;文章增加可选的顶图选项。&lt;/p&gt;</content><author><name>Choipun</name></author><category term="life" /><summary type="html">一直以来就有写笔记的习惯，记录日常接触到的新内容，或者踩到的坑。时间一长，笔记也就多了起来。</summary></entry><entry><title type="html">使用Jekyll搭建博客的踩坑记录</title><link href="/2017/10/install-jekyll" rel="alternate" type="text/html" title="使用Jekyll搭建博客的踩坑记录" /><published>2017-10-24T21:19:37+08:00</published><updated>2017-10-24T21:19:37+08:00</updated><id>/2017/10/install-jekyll</id><content type="html" xml:base="/2017/10/install-jekyll">&lt;p&gt;What is Jekyll?&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Transform your plain text into static websites and blogs. &lt;a href=&quot;http://jekyllrb.com/&quot;&gt;jekyllrb.com&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h1 id=&quot;安装&quot;&gt;安装&lt;/h1&gt;

&lt;p&gt;需要有&lt;strong&gt;完整的 Ruby 开发环境&lt;/strong&gt;，&lt;a href=&quot;https://jekyllrb.com/docs/installation/#requirements&quot;&gt;前置需求看这里&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gem install jekyll
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;macOS 会遇到这个坑&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Fetching: public_suffix-3.0.0.gem &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;100%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
ERROR:  While executing gem ... &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Gem::FilePermissionError&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
    You dont have write permissions &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;the /Library/Ruby/Gems/2.3.0 directory.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;没有写入权限。可以用 &lt;code class=&quot;highlighter-rouge&quot;&gt;sudo&lt;/code&gt; 解决，往系统自带的 Ruby 库中塞东西&lt;/p&gt;

&lt;p&gt;也可以用 Homebrew 另外装个 Ruby&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;brew install ruby
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;然后可以了？ N A I V E&lt;/p&gt;

&lt;p&gt;还要修改一下 &lt;code class=&quot;highlighter-rouge&quot;&gt;$PATH&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;vim ~/.bash_profile
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;写入这句&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/local/bin:&lt;span class=&quot;nv&quot;&gt;$PATH&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;然后应用&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt; ~/.bash_profile
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;再次尝试安装，可以开始下载了！ 不过还是报了错误，大意是说，缺少安装必要的工具，查看 .log&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-log&quot;&gt;package configuration for libffi is not found
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;看了下官网的 &lt;a href=&quot;https://jekyllrb.com/docs/troubleshooting/&quot;&gt;问题排查&lt;/a&gt;，升级了 RubyGems&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gem update &lt;span class=&quot;nt&quot;&gt;--system&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;没有作用，再尝试安装新命令行工具&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;xcode-select &lt;span class=&quot;nt&quot;&gt;--install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;然后再次尝试安装 Jekyll &lt;strong&gt;就成功了&lt;/strong&gt;！&lt;/p&gt;

&lt;p&gt;好了，初始化一下 blog&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;jekyll new blog
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;blog
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;bundle &lt;span class=&quot;nb&quot;&gt;exec &lt;/span&gt;jekyll serve
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;嗯，果然没有那么顺利&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;-bash&lt;/span&gt;: bundle: &lt;span class=&quot;nb&quot;&gt;command &lt;/span&gt;not found
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;所以要再安装个 &lt;code class=&quot;highlighter-rouge&quot;&gt;bundler&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gem install bundler
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;安装完了再次启动服务试试&lt;/p&gt;

&lt;p&gt;然后可以了？Nope&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Could not find gem &lt;span class=&quot;s1&quot;&gt;'minima (~&amp;gt; 2.0)'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;any of the gem sources listed &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;your Gemfile.
Run &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;bundle install&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; to install missing gems.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;果不其然可以在 github 找到提过的 issues，更新一下 bundler&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;bundle update
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;就会发现安装上了 &lt;code class=&quot;highlighter-rouge&quot;&gt;minima&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Fetching minima 2.1.1
Installing minima 2.1.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;应该不会有问题了吧？小心翼翼再次启动服务试试&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;bundle &lt;span class=&quot;nb&quot;&gt;exec &lt;/span&gt;jekyll serve
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;终于看见了以下信息&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Server address: http://127.0.0.1:4000/
Server running... press ctrl-c to stop.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;浏览器里打开看看，一切都是那么完美！&lt;/p&gt;

&lt;h1 id=&quot;minima&quot;&gt;Minima&lt;/h1&gt;

&lt;p&gt;minima 是初始化 Jekyll 的默认（也是首个）主题，乍一看没啥问题，就是代码高亮的背景色太丑了，得改。&lt;/p&gt;

&lt;p&gt;找到 minima 的安装目录&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;blundle show minima
/usr/local/lib/ruby/gems/2.4.0/gems/minima-2.1.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;然后就可以在 &lt;code class=&quot;highlighter-rouge&quot;&gt;_sass/minima/&lt;/code&gt; 这个目录下修改默认的样式了？&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;跟我一样天真就白费劲了。&lt;/strong&gt; 本机预览没什么问题，传到 gitpage 上就还是&lt;strong&gt;原来的样子&lt;/strong&gt;。&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Let’s say, for a second example, you want to override Minima’s footer. In your Jekyll site, create an &lt;code class=&quot;highlighter-rouge&quot;&gt;_includes&lt;/code&gt; folder and add a file in it called &lt;code class=&quot;highlighter-rouge&quot;&gt;footer.html&lt;/code&gt;. Jekyll will now use your site’s &lt;code class=&quot;highlighter-rouge&quot;&gt;footer.html&lt;/code&gt; file instead of the &lt;code class=&quot;highlighter-rouge&quot;&gt;footer.html&lt;/code&gt; file from the Minima theme gem.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;按照 Jekyll 官网说法是，需要根据主题目录，额外以相同路径建立同名文件在自己的博客下，或者新增文件。&lt;/p&gt;

&lt;p&gt;相当于是强制备份吧，折腾坏了也方便还原。&lt;/p&gt;</content><author><name>Choipun</name></author><category term="jekyll" /><summary type="html">What is Jekyll?</summary></entry><entry><title type="html">Windows Server IIS 6.0 安装域名证书</title><link href="/2017/10/windwos-server-ssl" rel="alternate" type="text/html" title="Windows Server IIS 6.0 安装域名证书" /><published>2017-10-22T19:00:00+08:00</published><updated>2017-10-22T19:00:00+08:00</updated><id>/2017/10/windwos-server-ssl</id><content type="html" xml:base="/2017/10/windwos-server-ssl">&lt;p&gt;假设已经获取到 &lt;code class=&quot;highlighter-rouge&quot;&gt;.pfx&lt;/code&gt; 格式证书：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;打开IIS&lt;/li&gt;
  &lt;li&gt;选择网站 –&amp;gt; 点击右键 –&amp;gt; &lt;strong&gt;属性&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;点击 &lt;strong&gt;目录安全性&lt;/strong&gt; 选项卡&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;安全通信&lt;/strong&gt;一栏，点击&lt;strong&gt;服务器证书&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;选择&lt;strong&gt;从.pfx文件导入证书&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;导入证书，输入证书密码，一直点击下一步，即可完成。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;强制必须以 &lt;code class=&quot;highlighter-rouge&quot;&gt;https&lt;/code&gt; 打开：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;回到&lt;strong&gt;安全通信&lt;/strong&gt;一栏，点击&lt;strong&gt;编辑&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;勾选 &lt;strong&gt;要求安全通道（SSL）&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;勾选 &lt;strong&gt;要求128位加密&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;这个时候用户输入 &lt;code class=&quot;highlighter-rouge&quot;&gt;http&lt;/code&gt; 开头的地址访问网站，服务器将返回一个 &lt;code class=&quot;highlighter-rouge&quot;&gt;403.4&lt;/code&gt; 的错误&lt;/p&gt;

&lt;p&gt;可以自定义一个新的 403.4 错误页面，通过该页面&lt;strong&gt;重定向&lt;/strong&gt;到 &lt;code class=&quot;highlighter-rouge&quot;&gt;https&lt;/code&gt; 开头的地址&lt;/p&gt;

&lt;p&gt;新建一个 &lt;strong&gt;redirect.html&lt;/strong&gt; 文件&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;html&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;head&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;charset=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;utf-8&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;nt&quot;&gt;&amp;lt;title&amp;gt;&lt;/span&gt;loading&lt;span class=&quot;nt&quot;&gt;&amp;lt;/title&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/head&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;script&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;location&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hostname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;location&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pathname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;location&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'https://'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;location&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;href&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ol&gt;
  &lt;li&gt;在网站属性中，找到&lt;strong&gt;自定义错误&lt;/strong&gt;选项卡&lt;/li&gt;
  &lt;li&gt;找到错误类型为 &lt;code class=&quot;highlighter-rouge&quot;&gt;403:4&lt;/code&gt; 的一栏，点击&lt;strong&gt;编辑&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;替换文件为刚刚保存的&lt;strong&gt;redirect.html&lt;/strong&gt;，点击&lt;strong&gt;确定&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;测试一下， 以 &lt;code class=&quot;highlighter-rouge&quot;&gt;http&lt;/code&gt; 开头访问网站，自动跳转到了 &lt;code class=&quot;highlighter-rouge&quot;&gt;https&lt;/code&gt; 开头的地址，说明设置成功!&lt;/p&gt;</content><author><name>Choipun</name></author><category term="windows" /><summary type="html">假设已经获取到 .pfx 格式证书：</summary></entry><entry><title type="html">macOS自带PHP环境配置</title><link href="/2017/10/php-env-in-mac" rel="alternate" type="text/html" title="macOS自带PHP环境配置" /><published>2017-10-18T19:00:00+08:00</published><updated>2017-10-18T19:00:00+08:00</updated><id>/2017/10/php-env-in-mac</id><content type="html" xml:base="/2017/10/php-env-in-mac">&lt;blockquote&gt;
  &lt;p&gt;以下内容运行环境 macOS Sierra 10.12.6&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;升级到 macOS High Sierra 10.13 之后，需要重新配置 httpd-vhosts.conf 文件，重启 MySQL 服务&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h1 id=&quot;apache&quot;&gt;Apache&lt;/h1&gt;

&lt;p&gt;先把执行权限调整成 root&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;su -
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;开启服务&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apachectl start
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;看到 &lt;a href=&quot;http://localhost/&quot;&gt;http://localhost/&lt;/a&gt; 显示 &lt;strong&gt;It works!&lt;/strong&gt; 说明Apache已经正常运作。&lt;/p&gt;

&lt;p&gt;根目录在 /Library/WebServer/Documents 中。&lt;/p&gt;

&lt;p&gt;显示 Apache 版本&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apachectl &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;重启&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apachectl restart

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;php&quot;&gt;PHP&lt;/h1&gt;

&lt;p&gt;开启PHP之前，先把现有的 httpd.conf 备份一下&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /etc/apache2/
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;cp httpd.conf httpd.conf.bak
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;打开 httpd.conf 找到以下这行，删除前面的 &lt;code class=&quot;highlighter-rouge&quot;&gt;#&lt;/code&gt; 解除注释。&lt;/p&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;#LoadModule php5_module libexec/apache2/libphp5.so
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;然后重启Apache服务&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apachectl restart
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;可以在根目录下写入一个 phpinfo.php&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;phpinfo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;然后打开 &lt;a href=&quot;http://localhost/phpinfo.php&quot;&gt;http://localhost/phpinfo.php&lt;/a&gt; 看看是否能获取到信息。&lt;/p&gt;

&lt;p&gt;查看PHP版本&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;php &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;显示为5.6.3&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;PHP 5.6.30 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;cli&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;built: Feb  7 2017 16:18:37&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 
Copyright &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 1997-2016 The PHP Group
Zend Engine v2.6.0, Copyright &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 1998-2016 Zend Technologies
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;有点旧，升级之！&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;curl &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; https://php-osx.liip.ch/install.sh | bash &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; 7.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;此时并不是覆盖原来的版本，而是下载了一个新的版本。 
需要修改默认指向的路径。&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;vim ~/.bash_profile
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;进入vim模式后按 i 键进入编辑状态，插入这一行：&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/local/php5-7.1.8-20170817-170852/bin:&lt;span class=&quot;nv&quot;&gt;$PATH&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;以下载的时候显示的路径为准，后面的数字应该是不一样的。&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;然后按 esc 键，输入 &lt;code class=&quot;highlighter-rouge&quot;&gt;:wq&lt;/code&gt; 保存并退出。&lt;/p&gt;

&lt;p&gt;接着执行这句：&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt; ~/.bash_profile
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;再次查看PHP版本就会发现已经更新好了。&lt;/p&gt;

&lt;p&gt;最后，把 httpd.conf 中刚刚开启过的 &lt;code class=&quot;highlighter-rouge&quot;&gt;php5_module&lt;/code&gt; 再注释掉，否则会导致冲突。&lt;/p&gt;

&lt;p&gt;再次查看 &lt;a href=&quot;http://localhost/phpinfo.php&quot;&gt;http://localhost/phpinfo.php&lt;/a&gt; 页面，此时显示的版本为7.1.8 ，一切完美。&lt;/p&gt;

&lt;h1 id=&quot;多站点配置&quot;&gt;多站点配置&lt;/h1&gt;

&lt;p&gt;在站点根目录下建个 test 文件夹，即 /Library/WebServer/Documents/test&lt;/p&gt;

&lt;p&gt;打开 test 并放个 index.php 进去，随便内容写点什么。&lt;/p&gt;

&lt;p&gt;接着需要开启vhost服务，打开 httpd.conf，找到以下内容并删除前面的 &lt;code class=&quot;highlighter-rouge&quot;&gt;#&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;#Include /private/etc/apache2/extra/httpd-vhosts.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;接着，前往 /etc/apache2/extra，编辑 httpd-vhosts.conf 添加如下内容&lt;/p&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;VirtualHost&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;*:80&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    DocumentRoot &quot;/Library/WebServer/Documents/test&quot;
    ServerName www.test.com
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/VirtualHost&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;前往 /etc，编辑 hosts 添加本地域名解析规则。建议是直接复制现有的内容，直接修改就好，不要自己写。&lt;/p&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;127.0.0.1	www.test.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;配置完毕后，重启一下 Apache 服务&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apachectl restart
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;最后，打开地址栏，输入 &lt;a href=&quot;http://www.test.com/&quot;&gt;http://www.test.com/&lt;/a&gt;，看到了之前新建的 index.php 的内容，说明配置成功！&lt;/p&gt;

&lt;h1 id=&quot;mysql&quot;&gt;MySQL&lt;/h1&gt;

&lt;h4 id=&quot;通过-homebrew-来安装&quot;&gt;通过 homebrew 来安装&lt;/h4&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;brew install mysql
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;会顺便安装依赖工具 openSSL，当看到 🍺 标志就说明安装成功了。&lt;/p&gt;

&lt;p&gt;可以看下有哪些可用命令及相关信息。&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;mysql &lt;span class=&quot;nt&quot;&gt;--help&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;安装完成后要做点简单配置&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;unset &lt;/span&gt;TMPDIR
mysql_install_db &lt;span class=&quot;nt&quot;&gt;--verbose&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;whoami&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--basedir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;brew &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt; mysql&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--datadir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/local/var/mysql &lt;span class=&quot;nt&quot;&gt;--tmpdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tmp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;会看到报错提示未知变量&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql_install_db: &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;ERROR] unknown variable &lt;span class=&quot;s1&quot;&gt;'tmpdir=/tmp'&lt;/span&gt;
2017-09-07 16:35:03 &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;ERROR]   Unrecognized options
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;不知道是不是就我遇到了这个情况，暂时没有搜索到什么解决方案，跳过貌似没有什么影响。&lt;/p&gt;

&lt;h4 id=&quot;启动mysql&quot;&gt;启动MySQL&lt;/h4&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql.server start
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;安全配置&quot;&gt;安全配置&lt;/h4&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;/usr/local/Cellar/mysql/5.7.19/bin/mysql_secure_installation
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;版本号以实际安装的为准&lt;/strong&gt;，可以先查询看下&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;mysql &lt;span class=&quot;nt&quot;&gt;--version&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;显示如下信息&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;mysql  Ver 14.14 Distrib 5.7.19, &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;osx10.12 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;x86_64&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; using  EditLine wrapper
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;也就是 &lt;code class=&quot;highlighter-rouge&quot;&gt;Distrib &lt;/code&gt; 后面的 &lt;code class=&quot;highlighter-rouge&quot;&gt;5.7.19&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;之后就是一些设置了。&lt;/p&gt;

&lt;p&gt;都是英文看不懂？&lt;strong&gt;macOS很方便的一点就是选中单词以后，双指轻触，就可以查询单词意思。&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;homebrew 安装的 mysql 的数据存储位置为 &lt;strong&gt;/usr/local/var/mysql&lt;/strong&gt;。 可以通过 &lt;code class=&quot;highlighter-rouge&quot;&gt;find / -name databasename&lt;/code&gt; 的方式根据数据库名称找到具体位置。&lt;/p&gt;

&lt;h4 id=&quot;mysql-基本操作&quot;&gt;MySQL 基本操作&lt;/h4&gt;

&lt;p&gt;登录mysql&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;mysql &lt;span class=&quot;nt&quot;&gt;-uroot&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;会提示需要输入密码，完成后就可以连接上去了。&lt;/p&gt;

&lt;p&gt;这个时候，命令行会变成这种形式：&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;查看数据库列表&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;show&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;databases&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;注意：所有的 MySQL 操作语句都不能省略后面的&lt;/strong&gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;显示如下结果&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;--------------------+&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;Database&lt;/span&gt;           &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;--------------------+&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;information_schema&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mysql&lt;/span&gt;              &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;performance_schema&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sys&lt;/span&gt;                &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;--------------------+&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;rows&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;00&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;创新数据库&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;database&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mydb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;打开数据库&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mydb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;查看数据表&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;show&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tables&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;gui工具&quot;&gt;GUI工具&lt;/h4&gt;

&lt;p&gt;总是敲命令行比较麻烦，也不太直观。可以使用 GUI 工具来进行操作&lt;/p&gt;

&lt;p&gt;推荐：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.sequelpro.com/&quot;&gt;Sequel Pro&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.phpmyadmin.net/&quot;&gt;phpMyAdmin&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Choipun</name></author><category term="macOS" /><summary type="html">以下内容运行环境 macOS Sierra 10.12.6</summary></entry><entry><title type="html">macOS通过终端解压rar文件</title><link href="/2017/09/mac-unrar" rel="alternate" type="text/html" title="macOS通过终端解压rar文件" /><published>2017-09-15T15:23:47+08:00</published><updated>2017-09-15T15:23:47+08:00</updated><id>/2017/09/mac-unrar</id><content type="html" xml:base="/2017/09/mac-unrar">&lt;p&gt;通过 homebrew 安装 unrar&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;brew install unrar  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;进入 &lt;code class=&quot;highlighter-rouge&quot;&gt;.rar&lt;/code&gt; 文件目录&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;unrar x filename.rar
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;即可解压到当前文件夹&lt;/p&gt;</content><author><name>Choipun</name></author><category term="macOS" /><summary type="html">通过 homebrew 安装 unrar</summary></entry><entry><title type="html">Windwos服务端搭建Shadowsocks</title><link href="/2017/09/install-shadowsocks-in-windows-server" rel="alternate" type="text/html" title="Windwos服务端搭建Shadowsocks" /><published>2017-09-07T19:00:00+08:00</published><updated>2017-09-07T19:00:00+08:00</updated><id>/2017/09/install-shadowsocks-in-windows-server</id><content type="html" xml:base="/2017/09/install-shadowsocks-in-windows-server">&lt;h1 id=&quot;服务端&quot;&gt;服务端&lt;/h1&gt;

&lt;h4 id=&quot;安装-python&quot;&gt;安装 Python&lt;/h4&gt;

&lt;p&gt;首先去到 Python 官网下载 Python V2 ：&lt;a href=&quot;https://www.python.org/downloads/&quot;&gt;点击前往&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.python.org/ftp/python/2.7.14/python-2.7.14rc1.msi&quot;&gt;32位系统点我&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.python.org/ftp/python/2.7.14/python-2.7.14rc1.amd64.msi&quot;&gt;64位系统点我&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;注意：最好是根据现在系统的环境来选择，并且要与OpenSSL对应，不能用32位 Python 与64位的 OpenSSL 搭配使用。&lt;/strong&gt;&lt;/p&gt;

&lt;h4 id=&quot;安装-openssl&quot;&gt;安装 OpenSSL&lt;/h4&gt;

&lt;p&gt;同样去到 OpenSSL 官网下载：&lt;a href=&quot;https://slproweb.com/products/Win32OpenSSL.html&quot;&gt;OpenSSL&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://slproweb.com/download/Win32OpenSSL-1_0_2L.exe&quot;&gt;32位系统点我&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://slproweb.com/download/Win64OpenSSL-1_0_2L.exe&quot;&gt;64位系统点我&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;这里需要注意&lt;/p&gt;

&lt;p&gt;OpenSSL 需要 &lt;strong&gt;Visual C++ 2008 Redistributables&lt;/strong&gt; 支持&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.microsoft.com/downloads/details.aspx?familyid=9B2DA534-3E03-4391-8A4D-074B9F2BC1BF&quot;&gt;32位系统点我&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.microsoft.com/downloads/details.aspx?familyid=bd2a6171-e2d6-4230-b809-9a8d7548c1b6&quot;&gt;64位系统点我&lt;/a&gt;&lt;/p&gt;

&lt;h4 id=&quot;安装-shadowsocks&quot;&gt;安装 Shadowsocks&lt;/h4&gt;

&lt;p&gt;安装完成后，如按照默认路径，使用方法如下&lt;/p&gt;

&lt;p&gt;打开 cmd&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;（Windows Server 2012 R2 系统可按 Windows 图标+X+A打开管理员权限的命令提示符）&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;进入 Python 目录&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;cd C:\Python27\Scripts
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;也可以用资源管理器进入到该目录，然后按住 Shift + 鼠标右键，选择 &lt;strong&gt;在此处打开命令窗口&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;然后输入&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;pip install shadowsocks
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;看到多出来几个文件，显示finished之类的字样就是下载成功了。&lt;/p&gt;

&lt;h4 id=&quot;配置-shadowsocks&quot;&gt;配置 Shadowsocks&lt;/h4&gt;

&lt;p&gt;同样需要在 C:\Python27\Scripts 运行命令提示符(管理员)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ssserver.exe -p 8893 -k password -m aes-256-cfb
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;8893&lt;/code&gt; 为服务器端口，&lt;code class=&quot;highlighter-rouge&quot;&gt;password&lt;/code&gt; 为密码，到时在客户端填上服务器的 IP 及此处设置的端口和密码就能使用了&lt;/p&gt;

&lt;p&gt;当然，也可以使用配置文件的方法，在 C:\Python27\Scripts 新建一个名为 shadowsocks.json 的文件，以记事本打开&lt;/p&gt;

&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;server&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;server_port&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8893&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;local_address&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;127.0.0.1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;local_port&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1080&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;timeout&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;300&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;method&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;aes-256-cfb&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;fast_open&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;然后运行&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ssserver.exe -c C:\Python27\Scripts\shadowsocks.json
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;客户端&quot;&gt;客户端&lt;/h1&gt;

&lt;p&gt;Shadowsocks 客户端官网下载页面：&lt;a href=&quot;https://shadowsocks.org/en/download/clients.html&quot;&gt;点我前往&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;解压到任意目录，双击启动 &lt;strong&gt;Shadowsocks.exe&lt;/strong&gt;，可以在右下角的系统任务栏看到一个 &lt;strong&gt;纸飞机&lt;/strong&gt; 的图标，右键纸飞机图标，勾选设置&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;启用系统代理&lt;/li&gt;
  &lt;li&gt;允许来自局域网的连接&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;点开 &lt;strong&gt;服务器&lt;/strong&gt; –&amp;gt; &lt;strong&gt;编辑服务器&lt;/strong&gt;：&lt;/p&gt;

&lt;p&gt;对应 shadowsocks.json 配置文件，对照相同项目来填写。填写完以后按 &lt;strong&gt;确定&lt;/strong&gt; 保存配置。&lt;/p&gt;

&lt;p&gt;接着右键纸飞机图标 –&amp;gt; &lt;strong&gt;服务器&lt;/strong&gt;，勾选刚刚设置的那个。&lt;/p&gt;</content><author><name>Choipun</name></author><category term="windows" /><summary type="html">服务端</summary></entry></feed>